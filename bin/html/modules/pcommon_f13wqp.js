/**/_jsload2&&_jsload2('pcommon', 'function mj(a){this.W=a;this.Cv=[];this.If=s;this.wl=new ec(s,{hf:"api"});this.Fy()}var nj={none:["-1",""],transit:["0","m_transit.png"],hotel:["1","m_hotel.png"],catering:["2","m_catering.png"],movie:["3","m_movie.png"],transit:["4","m_transit.png"],indoor_scene:["5","m_indoor_scene.png"]};D.tm(function(a){new mj(a)}); z.extend(mj.prototype,{Fy:function(){var a=this;pano=a.W;pano.addEventListener("visible_poi_type_changed",function(b){a.QZ(b.visiblePOIType)});pano.addEventListener("position_changed",function(){a.If&&a.OH()})},QZ:function(a){this.If=a;this.OH()},FP:function(){for(var a=this.Cv.length-1;0<=a;a--)this.W.Sb(this.Cv[a]);this.Cv=[]},OH:function(){this.FP();if("inter"!==pano.rs()){var a=nj[this.If],b=this.W.ja(),c=this.W.Xb(),e=this;this.wl.lD(b,200,a[0],function(b){var g=e.W.Xb();if(g===c)for(var i=s, i=s,k=0,m=b.length;k<m;k++)if(i=b[k],15>k||i.panoInfo&&i.panoInfo.panoId==g)i=new Ge(i.position,{icon:H.sa+"panorama/"+a[1],title:i.title,altitude:i.altitude,panoInfo:i.panoInfo}),e.W.Pa(i),e.Cv.push(i)})}}});function oj(a,b){this.W=a;this.P=b;this.fq=s;this.wl=new ec(s,{hf:"api"});this.rA=[];this.Cr();this.pB()}D.tm(function(a){function b(){var b=a.rs();a.m.indoorSceneSwitchControl==t||"street"==b?c&&c.aa():"inter"==b&&(c||(c=new oj(a,a.P)),c.H_(a.Xb()),c.show())}a.addEventListener("scene_type_changed",b);a.addEventListener("indoor_default_switch_mode_changed",b);var c=s}); z.extend(oj.prototype,{pB:function(){this.dP();this.Fy()},jp:function(a){function b(){e.W.od({heading:c.heading,pitch:c.pitch});e.W.removeEventListener("position_changed",b)}var c=this.rA[a];this.W.Cc(c.panoId);var e=this;this.W.addEventListener("position_changed",b)},next:function(){this.jp(++this.fq)},WY:function(){this.jp(--this.fq)},Cr:function(){var a=this.AI=O("div"),b=a.style;b.position="absolute";b.zIndex="2000";b.width="100%";b.top=b.left="0px";this.P.appendChild(a);this.cg=O("a");this.cg.style.left= "2%";this.cg.href="javascript: void(0);";this.cg.className="pano_switch_left";a.appendChild(this.cg);this.Hh=O("a");this.Hh.style.right="2%";this.cg.href="javascript: void(0);";this.Hh.className="pano_switch_right";I()&&(this.Hh.style.height="34px",this.Hh.style.width="34px",this.Hh.style.borderRadius="17px",this.cg.style.height="34px",this.cg.style.width="34px",this.cg.style.borderRadius="17px");a.appendChild(this.Hh);this.cg.style.top=this.Hh.style.top=this.W.Yg().height/2-14+"px"},H_:function(a){var b= this,c=this.W.Xb();this.wl.Pw(a,function(a){var f=b.W.Xb();f===c&&(b.rA=a,b.QN(f))})},aa:function(){this.Sa=t;this.AI.style.display="none"},show:function(){this.Sa=p;this.AI.style.display="block"},Nc:x("Sa"),QN:function(a){for(var b=this.rA,c=b.length-1;0<=c;c--)b[c].panoId==a&&(this.fq=c);z.R.tc(this.cg,"pano_switch_disable");z.R.tc(this.Hh,"pano_switch_disable");1===this.fq?z.R.eb(this.cg,"pano_switch_disable"):this.fq==b.length-1&&z.R.eb(this.Hh,"pano_switch_disable")},dP:function(){var a=this; ja.V(this.cg,"click",function(b){z.R.ws(b.target,"pano_switch_disable")||a.WY()});ja.V(this.Hh,"click",function(b){z.R.ws(b.target,"pano_switch_disable")||a.next()})},Fy:function(){var a=this,b=a.W;b.addEventListener("position_changed",function(){if(a.Nc()){var c=b.Xb();a.QN(c)}})}});function pj(a){Ce.call(this);this.W=a;this.wl=new ec(s,{hf:"api"});this.aq={admission:"",photoDate:"",roadName:"",providerUrl:"",providerName:""};this.lr=s;this.Uq=[];this.bA=p;this.xa()}D.tm(function(a){new pj(a)});z.lang.wa(pj,Ce,"PanoramaCopyright"); z.extend(pj.prototype,{xa:function(){this.P=this.zj(1900);this.W.Ua();this.W.Ua().appendChild(this.P);var a=this;this.wl.nK(function(b){a.Uq=b;a.Ea()});this.fa(this.W);this.W.m.copyrightControlOptions.logoVisible==t&&this.Vw()},Ea:function(){var a=this.UQ(),b=[];b.push(\'<div style="width: 1000px; overflow:hidden;">\');if(this.bA){b.push(\'<a target="_blank" title="\\u5230\\u767e\\u5ea6\\u5730\\u56fe\\u67e5\\u770b\\u6b64\\u533a\\u57df" href=\'+this.W.jK()+\' style="outline:none;float:left;margin-left:3px">\');var c= H.sa+"copyright_logo.png";I()?(c=H.sa+"copyright_logo_hd.png",b.push("<img style=\'border:none;width:68px;height:25px;vertical-align:bottom;\' src=\'"+c+"\' />")):6==z.ga.ma?b.push("<div style=\'float: left;cursor:pointer;width:77px;height:32px;filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(src="+c+")\'></div>"):b.push("<img style=\'border:none;width:77px;height:32px;vertical-align:bottom;\' src=\'"+c+"\' />");b.push("</a>")}b.push(\'<div style="float:left;\');I()?b.push(\'margin-top:8px;font-family:sans-serif;">\'): (b.push("margin-top:13px;"),z.platform.jL?b.push(\'font-family:sans-serif;">\'):b.push(\'">\'));a.roadName&&b.push(\'<span style="margin-left: 5px;">\'+a.roadName+"</span><span>|</span>");a.providerName&&(a.providerUrl?b.push(\'<span style="margin-left: 5px;">Data \\u00a9</span><span><a style="text-decoration: none;color: rgb(54, 54, 54);" target="_blank" href="\'+a.providerUrl+\'" style="display:inline;">\'+a.providerName+"</a></span>"):b.push(\'<span style="margin-left: 5px;">Data \\u00a9</span><span>\'+a.providerName+ "</span>"));b.push(\'<span style="margin-left: 5px;">\'+a.admission+"</span>");b.push(\'<span style="margin-left: 5px;">\\u62cd\\u6444\\u65e5\\u671f:\'+a.photoDate+"</span>");b.push("</div>");b.push("</div>");this.P.innerHTML=b.join("")},zj:function(a){var b=O("div"),c=b.style;c.overflow="hidden";c.position="absolute";c.bottom=c.left="0";c.zIndex=a||"0";c.width="100%";c.fontSize="11px";c.height=I()?"27px":"34px";c.T4="none";c.WebkitTextSizeAdjust="none";c.WebkitUserSelect="none";c.visibility="hidden";c.fontFamily= "sans-serif";c.color="rgb(54, 54, 54)";c.lineHeight="20px";return b},fa:function(a){var b=this;a.addEventListener("copyright_changed",function(a){a.copyright&&(b.lr=a.copyright,b.Ea())});a.addEventListener("visible_changed",function(){b.P.style.visibility=a.kD()?"visible":"hidden"});a.addEventListener("copyright_options_changed",function(){a.m.copyrightControlOptions.logoVisible==t?b.Vw():b.EE()})},UQ:function(){if(this.lr){for(var a in this.aq)this.aq[a]=this.lr[a];a=this.QW(this.lr.dataProviderIndex); this.aq.providerName=a.name+this.lr.username;this.aq.providerUrl=a.url}return this.aq},QW:function(a){for(var b={name:"",url:"",id:""},c=this.Uq.length-1;0<=c;c--)if(this.Uq[c].id==a){var b=this.Uq[c],e;for(e in b)b[e]=z.trim(this.Uq[c][e])}return b},Vw:function(){/baidu\\.com/.test(document.domain)&&(this.bA=t,this.Ea())},EE:function(){this.bA=p;this.Ea()}}); ');
